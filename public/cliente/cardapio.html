<script>
  async function carregarCardapio() {
    const ul = document.getElementById('lista-cardapio');
    ul.innerHTML = 'Carregando...';

    try {
      const res = await fetch('/api/menu', { cache: 'no-store' });
      const itens = await res.json();
      ul.innerHTML = '';

      itens.forEach(item => {
        const li = document.createElement('li');
        li.style.listStyle = 'none';
        li.style.marginBottom = '16px';

        li.innerHTML = `
          <div style="display:flex; gap:12px; align-items:center;">
            <img src="${item.imagem || 'https://picsum.photos/seed/placeholder/100/100'}" alt="${item.nome}" width="100" height="100"/>
            <div>
              <strong>${item.nome}</strong><br/>
              R$ ${item.preco}
            </div>
          </div>
        `;
        ul.appendChild(li);
      });

      if (itens.length === 0) {
        ul.innerHTML = '<em>Sem itens ativos no momento.</em>';
      }
    } catch (e) {
      ul.innerHTML = '<em>Erro ao carregar card√°pio.</em>';
    }
  }

  carregarCardapio();
</script>
